<md-content layout-padding>
    <spinner ng-show="!users.list" color="dark"></spinner>
    <div ng-show="userListError" class="error">{{userListError}}</div>
    <div class="user-list">
        <div class="user" ng-repeat="user in users.list">
            <div class="cell">{{user.uuid}}</div>
            <div class="cell">{{user.username}}</div>
            <div class="cell">{{user.name}}</div>
            <div class="cell">
                <md-input-container>
                    <label>Role</label>
                    <md-select ng-model="user.role">
                        <md-option ng-repeat="(key, value) in users.roles" ng-value="value">
                            {{value}}
                        </md-option>
                    </md-select>
                </md-input-container>
            </div>
            <div class="cell">
                <md-button class="md-raised md-primary" ng-click="do(user)" ng-disabled="pending">
                    <span ng-hide="pending === user.uuid">Save</span>
                    <spinner ng-show="pending === user.uuid" color="light"></spinner>
                </md-button>
                <div ng-show="user.error" class="error">{{user.error}}</div>
            </div>
        </div>
    </div>
    </div>
</md-content>